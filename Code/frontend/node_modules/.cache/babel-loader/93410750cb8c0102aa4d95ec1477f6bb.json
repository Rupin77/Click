{"ast":null,"code":"var _jsxFileName = \"T:\\\\School\\\\Click\\\\Group_09\\\\Code\\\\frontend\\\\src\\\\ProtectedRoute.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Navigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProtectedRoute = ({\n  children,\n  props\n}) => {\n  _s();\n\n  console.log(props, \"ProtectedRoute\", children);\n  const products = useSelector(state => state.cart.cart);\n  let user = localStorage.getItem(\"user\");\n  if (user) user = JSON.parse(user);\n\n  if (children.props.admin && !user.admin) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (children.props.checkCart) {\n    if (!(products && products.length)) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/Products\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/signin\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 16\n    }, this);\n  }\n\n  return children;\n};\n\n_s(ProtectedRoute, \"LHHiTPAlk+gTfGHSFrm+oO4oO3A=\", false, function () {\n  return [useSelector];\n});\n\n_c = ProtectedRoute;\nexport default ProtectedRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"sources":["T:/School/Click/Group_09/Code/frontend/src/ProtectedRoute.jsx"],"names":["React","useSelector","Navigate","useLocation","ProtectedRoute","children","props","console","log","products","state","cart","user","localStorage","getItem","JSON","parse","admin","checkCart","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAAyB;AAAA;;AAC5CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmB,gBAAnB,EAAqCD,QAArC;AACA,QAAMI,QAAQ,GAAGR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWA,IAAvB,CAA5B;AACA,MAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;AACA,MAAIF,IAAJ,EAAUA,IAAI,GAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;;AACV,MAAIP,QAAQ,CAACC,KAAT,CAAeW,KAAf,IAAwB,CAACL,IAAI,CAACK,KAAlC,EAAyC;AACrC,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAiB,MAAA,OAAO;AAAxB;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AACD,MAAIZ,QAAQ,CAACC,KAAT,CAAeY,SAAnB,EAA8B;AAC1B,QAAI,EAAET,QAAQ,IAAIA,QAAQ,CAACU,MAAvB,CAAJ,EAAoC;AAChC,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC,WAAb;AAAyB,QAAA,OAAO;AAAhC;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;AACJ;;AAED,MAAI,CAACP,IAAL,EAAW;AACP,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC,SAAb;AAAuB,MAAA,OAAO;AAA9B;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AACD,SAAOP,QAAP;AAEH,CAnBD;;GAAMD,c;UAEeH,W;;;KAFfG,c;AAqBN,eAAeA,cAAf","sourcesContent":["import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Navigate, useLocation } from \"react-router-dom\"\r\n\r\nconst ProtectedRoute = ({ children, props }) => {\r\n    console.log(props, \"ProtectedRoute\", children);\r\n    const products = useSelector((state) => state.cart.cart);\r\n    let user = localStorage.getItem(\"user\");\r\n    if (user) user = JSON.parse(user);\r\n    if (children.props.admin && !user.admin) {\r\n        return <Navigate to=\"/\" replace />\r\n    }\r\n    if (children.props.checkCart) {\r\n        if (!(products && products.length)) {\r\n            return <Navigate to=\"/Products\" replace />\r\n        }\r\n    }\r\n\r\n    if (!user) {\r\n        return <Navigate to=\"/signin\" replace />\r\n    }\r\n    return children\r\n\r\n};\r\n\r\nexport default ProtectedRoute;"]},"metadata":{},"sourceType":"module"}